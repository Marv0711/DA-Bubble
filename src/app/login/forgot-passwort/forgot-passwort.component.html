<div class="login-container">
  <app-header></app-header>

  <div class="mobile-header">
    <a style="text-decoration: none; color: black" routerLink="/singup"
      ><app-logo></app-logo
    ></a>
  </div>

  <mat-card>
    <button routerLink="/singup" class="arrow-back-btn">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <mat-card-header>
      <h2>Passwort zurücksetzen</h2>
    </mat-card-header>
    <mat-card-content>
      <form #myForm="ngForm">
        <h3 class="nunito20px">Bitte geben Sie Ihre E-Mail-Adresse ein</h3>
        <div class="inputFields-container email-input-container">
          <mat-icon fontIcon="mail_outline"></mat-icon>
          <input
            type="email"
            id="email"
            class="login-inputs"
            name="email"
            [(ngModel)]="inputMail"
            placeholder="beispielname@email.com"
            email
            required
            minlength="5"
            [pattern]="authService.emailRegex"
          />
          <div class="validation-container">
            <div
              *ngIf="
                myForm.controls['email']?.invalid &&
                myForm.form.controls['email']?.touched
              "
            >
              *Diese E-Mail-Adresse ist leider ungültig
            </div>
          </div>
        </div>
        <p class="aligngrey">
          Wir senden Ihnen eine E-Mail, über die Sie Ihr Passwort ändern können.
        </p>

        <ng-container *ngIf="myForm.valid && !disabled; else elseTemplate">
          <button
            (click)="sendEmail(inputMail)"
            class="main-btn main-btn-wide purple1-btn"
            type="submit"
          >
            E-Mail senden
          </button>
        </ng-container>

        <ng-template #elseTemplate>
          <button disabled class="main-btn main-btn-wide disabled-btn">
            E-Mail senden
          </button>
        </ng-template>
      </form>
    </mat-card-content>

    <!-- <mat-progress-bar mode="indeterminate"></mat-progress-bar> -->
  </mat-card>
  <app-footer></app-footer>
</div>
<app-popup-msg [@openClose]="isOpen ? 'open' : 'closed'"></app-popup-msg>
